{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "LiDAR Aeva Aeries II parameters.",
  "type": "object",
  "definitions": {
    "Aeries2": {
      "type": "object",
      "properties": {
        "sensor_ip": {
          "$ref": "sub/communication.json#/definitions/sensor_ip",
          "default": "192.168.2.201"
        },
        "launch_hw": {
          "$ref": "sub/hardware.json#/definitions/launch_hw",
          "default": true
        },
        "frame_id": {
          "$ref": "sub/topic.json#/definitions/frame_id",
          "default": "nebula"
        },
        "sensor_model": {
          "$ref": "sub/lidar_aeva.json#/definitions/sensor_model",
          "enum": [
            "Aeries2"
          ],
          "default": "Aeries2"
        },
        "setup_sensor": {
          "$ref": "sub/hardware.json#/definitions/setup_sensor"
        },
        "diag_span": {
          "$ref": "sub/topic.json#/definitions/diag_span"
        },
        "scanner.dithering_enable_ego_speed": {
          "type": "number",
          "readOnly": false,
          "description": "The ego speed in m/s from which pointcloud dithering (different patterns per frame) is enabled.",
          "max": 200.0,
          "min": 0.0,
          "default": "40.0"
        },
        "scanner.dithering_pattern_option": {
          "type": "string",
          "readOnly": false,
          "description": "The dithering pattern to use if enabled.",
          "enum": [
            "dithering_pattern_1",
            "dithering_pattern_2"
          ],
          "default": "dithering_pattern_1"
        },
        "scanner.ele_offset_rad": {
          "type": "number",
          "readOnly": false,
          "description": "Elevation offset used to align ROI to ground level at a certain distance.",
          "max": 0.35,
          "min": -0.35,
          "default": "0.0"
        },
        "scanner.enable_frame_dithering": {
          "type": "boolean",
          "readOnly": false,
          "description": "Whether dithering is enabled.",
          "default": "false"
        },
        "scanner.enable_frame_sync": {
          "type": "boolean",
          "readOnly": false,
          "description": "Whether to sync pointcloud frame output to a given sub-second offset.",
          "default": true
        },
        "scanner.flip_pattern_vertically": {
          "type": "boolean",
          "readOnly": false,
          "description": "Whether to flip the scan pattern vertically.",
          "default": "false"
        },
        "scanner.frame_sync_offset_in_ms": {
          "type": "integer",
          "readOnly": false,
          "description": "The sub-second offset to sync pointcloud frame starts to. 0 for top-of-second alignment. In practice, 999 achieves results closer to top-of-second",
          "min": 0,
          "max": 999,
          "default": 999
        },
        "scanner.frame_sync_type": {
          "type": "string",
          "readOnly": false,
          "description": "Whether to start sync at an absolute timestamp in the future, or from the nearest second.",
          "enum": [
            "absolute_time",
            "nearest_second"
          ],
          "default": "nearest_second"
        },
        "scanner.frame_synchronization_on_rising_edge": {
          "type": "boolean",
          "readOnly": false,
          "description": "Contact vendor for info.",
          "default": "false"
        },
        "scanner.hfov_adjustment_deg": {
          "type": "number",
          "readOnly": false,
          "description": "The number of degrees to expend or shrink the horizontal field of view by.",
          "max": 100.0,
          "min": -100.0,
          "default": "0.0"
        },
        "scanner.hfov_rotation_deg": {
          "type": "number",
          "readOnly": false,
          "description": "Number of degrees to shift the horizontal field of view to the left (-) or right (+).",
          "max": 100.0,
          "min": -100.0,
          "default": "0.0"
        },
        "scanner.highlight_ROI": {
          "type": "boolean",
          "readOnly": false,
          "description": "A debug option to visually highlight points in the  configured region of interest.",
          "default": "false"
        },
        "scanner.horizontal_fov_degrees": {
          "type": "string",
          "readOnly": false,
          "description": "The horizontal field of view of the sensor. Larger FoVs use more power.",
          "enum": [
            "110Degrees",
            "120Degrees"
          ],
          "default": "110Degrees"
        },
        "scanner.roi_az_offset_rad": {
          "type": "number",
          "readOnly": false,
          "description": "Shift the ROI (if configured) to the left (-) or right (+).",
          "max": 0.2094,
          "min": -0.2094,
          "default": "0.0"
        },
        "scanner.vertical_pattern": {
          "type": "string",
          "readOnly": false,
          "description": "The scan pattern to use. Refer to the user manual for details.",
          "enum": [
            "40-12-ROI-1m",
            "40-14.4-ROI",
            "40-14.4-ROI-1m",
            "40-14.4-ROI-EGL",
            "40-28.8-ROI",
            "64-14.4-ROI-1m",
            "64-16-ROI",
            "64-16-ROI-1m",
            "64-19.2-ROI-1m",
            "64-19.2-ROI-2-EGL",
            "64-28.8-ROI",
            "80-19.2-Uniform",
            "80-24-ROI-2",
            "cal_192_384-19.2-Uniform-5f"
          ],
          "default": "40-14.4-ROI"
        },
        "system_config.range_modes": {
          "type": "string",
          "enum": [
            "Long Range",
            "Medium Range",
            "Normal Range",
            "Short Range",
            "Ultra Long Range",
            "Very Long Range"
          ],
          "default": "Normal Range"
        },
        "system_config.sensitivity_mode": {
          "type": "string",
          "enum": [
            "higher",
            "normal"
          ],
          "default": "normal"
        },
        "system_config.thermal_throttling_setting": {
          "type": "string",
          "enum": [
            "Active",
            "Inactive"
          ],
          "default": "Active"
        },
        "spc_converter.discard_points_in_ambiguity_region": {
          "type": "boolean",
          "default": "false"
        },
        "spc_converter.display_all_points": {
          "type": "boolean",
          "default": "false"
        },
        "spc_converter.enable_min_range_filter": {
          "type": "boolean",
          "default": true
        },
        "dsp_control.second_peak_type": {
          "type": "string",
          "enum": [
            "closest",
            "farthest",
            "strongest"
          ],
          "default": "strongest"
        },
        "dsp_control.use_foveated_velocity_bias": {
          "type": "boolean",
          "default": "false"
        },
        "dsp_control.velocity_bias_pattern_options": {
          "type": "string",
          "enum": [
            "velocity_bias_pattern_1",
            "velocity_bias_pattern_2"
          ],
          "default": "velocity_bias_pattern_1"
        }
      },
      "required": [
        "sensor_ip",
        "launch_hw",
        "frame_id",
        "sensor_model",
        "setup_sensor",
        "diag_span",
        "scanner.dithering_enable_ego_speed",
        "scanner.dithering_pattern_option",
        "scanner.ele_offset_rad",
        "scanner.enable_frame_dithering",
        "scanner.enable_frame_sync",
        "scanner.flip_pattern_vertically",
        "scanner.frame_sync_offset_in_ms",
        "scanner.frame_sync_type",
        "scanner.frame_synchronization_on_rising_edge",
        "scanner.hfov_adjustment_deg",
        "scanner.hfov_rotation_deg",
        "scanner.highlight_ROI",
        "scanner.horizontal_fov_degrees",
        "scanner.roi_az_offset_rad",
        "scanner.vertical_pattern",
        "system_config.range_modes",
        "system_config.sensitivity_mode",
        "system_config.thermal_throttling_setting",
        "spc_converter.discard_points_in_ambiguity_region",
        "spc_converter.display_all_points",
        "spc_converter.enable_min_range_filter",
        "dsp_control.second_peak_type",
        "dsp_control.use_foveated_velocity_bias",
        "dsp_control.velocity_bias_pattern_options"
      ],
      "additionalProperties": false
    }
  },
  "properties": {
    "/**": {
      "type": "object",
      "properties": {
        "ros__parameters": {
          "$ref": "#/definitions/Aeries2"
        }
      },
      "required": [
        "ros__parameters"
      ],
      "additionalProperties": false
    }
  },
  "required": [
    "/**"
  ],
  "additionalProperties": false
}
